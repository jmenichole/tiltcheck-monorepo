<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>TiltCheck Trust Behavior Panel</title>
<style>
 :root{--bg:#0f0f0f;--surface:#141414;--surface-alt:#181818;--border:#222;--accent:#00d4aa;--accent-alt:#00a8ff;--text:#fff;--text-muted:#9aa;--radius:12px;}
 body{margin:0;font-family:Inter,system-ui,sans-serif;background:var(--bg);color:var(--text);padding:32px;line-height:1.4;}
 .panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;max-width:960px;margin:0 auto;}
 .tb-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;}
 .tb-title{font-size:1.15rem;letter-spacing:.08em;text-transform:uppercase;color:var(--accent);}
 .tb-badge{font-size:.55rem;letter-spacing:.15em;text-transform:uppercase;padding:6px 10px;border:1px solid var(--border);border-radius:30px;background:var(--surface-alt);color:var(--accent-alt);}
 .tb-grid{display:grid;grid-template-columns:1.3fr .7fr;gap:20px;}
 .tb-chart{background:var(--surface-alt);border:1px solid var(--border);border-radius:10px;display:flex;align-items:center;justify-content:center;position:relative;}
 .metrics{display:flex;flex-direction:column;gap:14px;}
 .metric{background:var(--surface-alt);border:1px solid var(--border);padding:12px 14px;border-radius:10px;display:flex;flex-direction:column;gap:6px;}
 .metric label{font-size:.55rem;letter-spacing:.12em;text-transform:uppercase;color:var(--text-muted);}
 .metric .value{font-size:1.4rem;font-weight:600;}
 .barWrap{height:30px;background:#101010;border:1px solid var(--border);border-radius:24px;overflow:hidden;position:relative;}
 .barFill{height:100%;background:linear-gradient(90deg,var(--accent-alt),var(--accent));width:0%;transition:width .6s ease;}
 .barPct{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:.6rem;font-weight:600;}
 .support{font-size:.7rem;color:var(--text-muted);background:var(--surface-alt);border:1px solid var(--border);padding:10px 12px;border-radius:10px;}
 canvas{width:100%;height:100%;}
 @media(max-width:900px){.tb-grid{grid-template-columns:1fr;}}
</style>
</head>
<body>
 <div class="panel" role="region" aria-labelledby="tbHeading" aria-describedby="tbDesc" aria-label="Trust behavior panel">
  <div class="tb-header"><div class="tb-title" id="tbHeading">Trust Behavior</div><div class="tb-badge">+ Accountability</div></div>
  <p id="tbDesc" style="margin:0 0 14px;font-size:.75rem;color:var(--text-muted);">Live heuristic snapshot: trust index, tilt momentum, session cooldown.</p>
  <div class="tb-grid">
    <div class="tb-chart">
      <canvas id="tbChart" aria-label="Behavior trend line chart (recent trust index samples)" role="img"></canvas>
      <noscript><p style="padding:8px;font-size:.65rem;color:var(--text-muted);">Chart unavailable without JavaScript. Trust indices remain locally simulated.</p></noscript>
    </div>
    <div class="metrics">
      <div class="metric"><label>Trust Index</label><div class="value" id="tbTrust">--</div></div>
      <div class="metric"><label>Tilt Level</label><div class="barWrap"><div class="barFill" id="tbTiltFill"></div><div class="barPct" id="tbTiltPct">--</div></div></div>
      <div class="metric"><label>Cooldown</label><div class="value" id="tbCooldown">--</div></div>
      <div class="support" id="tbSupport">Recovery in progress.</div>
    </div>
  </div>
 </div>
<script>
(function(){
  const ctx = document.getElementById('tbChart').getContext('2d');
  const data = Array.from({length:40},(_,i)=>({x:i,y:60+Math.sin(i/3)*10+Math.random()*6}));
  function draw(){
    const w=ctx.canvas.width=ctx.canvas.clientWidth; const h=ctx.canvas.height=ctx.canvas.clientHeight;
    ctx.clearRect(0,0,w,h); ctx.strokeStyle='#222'; ctx.lineWidth=1; for(let i=1;i<4;i++){const y=(h/4)*i; ctx.beginPath(); ctx.moveTo(0,y); ctx.lineTo(w,y); ctx.stroke();}
    ctx.strokeStyle='#00a8ff'; ctx.lineWidth=2; ctx.beginPath(); data.forEach((p,i)=>{const x=(i/(data.length-1))*w; const y=h-(p.y/100)*h; i?ctx.lineTo(x,y):ctx.moveTo(x,y);}); ctx.stroke();
  }
  draw();
  function updateMetrics(){
    const trust = 70 + Math.floor(Math.random()*25); document.getElementById('tbTrust').textContent=trust;
    const tilt = Math.floor(Math.random()*60); document.getElementById('tbTiltFill').style.width=tilt+'%'; document.getElementById('tbTiltPct').textContent=tilt+'%';
    const mins = 1+Math.floor(Math.random()*5); const secs = String(Math.floor(Math.random()*60)).padStart(2,'0'); document.getElementById('tbCooldown').textContent=`${mins}:${secs}`;
  }
  setInterval(updateMetrics,4000); updateMetrics();
  window.addEventListener('resize', draw);
})();
</script>
</body>
</html>