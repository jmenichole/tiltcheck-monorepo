<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><title>Branch Protection &amp; Required Checks - TiltCheck</title><meta name="description" content="This repo enforces a lightweight branch protection ruleset on `main` to prevent accidental breakage and keep the UX tight. Below is what each rule does and why it exists in TiltChe"/><link rel="stylesheet" href="/styles/base.css"/><style>body{background:#0a0a0a;color:#e0e0e0;font-family:Inter,system-ui,sans-serif;margin:0;padding:0}main{max-width:900px;margin:0 auto;padding:40px 18px;line-height:1.7}a{color:#00d4aa;text-decoration:none}a:hover{text-decoration:underline}.page-hero{padding:54px 24px 32px;background:linear-gradient(135deg,#121212,#181818);border-bottom:1px solid #222}.page-hero h1{margin:0 0 10px;font-size:2.4rem;background:linear-gradient(135deg,#00d4aa,#00a8ff);-webkit-background-clip:text;color:transparent}.lede{color:#aaa;font-size:1.05rem;max-width:760px}pre{background:#181818;padding:14px 16px;border:1px solid #222;border-radius:8px;overflow:auto;font-size:.85rem}code{font-family:ui-monospace,Monaco,Consolas,monospace;color:#00a8ff}.breadcrumb{font-size:.7rem;letter-spacing:.12em;text-transform:uppercase;color:#888;margin:0 0 12px}.nav-inline{display:flex;gap:20px;align-items:center;font-size:.8rem;padding:10px 20px;background:#111;border-bottom:1px solid #222}nav a{color:#aaa}nav a[aria-current="page"]{color:#00d4aa;font-weight:600}</style></head><body><nav class="nav-inline"><a href="/" >Home</a><a href="/docs/index.html" aria-current="page">Docs</a><a href="/dashboard">Dashboard</a><a href="/about.html">About</a></nav><header class="page-hero"><div class="breadcrumb">Docs / Branch Protection &amp; Required Checks</div><h1>Branch Protection &amp; Required Checks</h1><p class="lede">This repo enforces a lightweight branch protection ruleset on `main` to prevent accidental breakage and keep the UX tight. Below is what each rule does and why it exists in TiltChe</p></header><main id="content"><h1>Branch Protection & Required Checks</h1>

<p>This repo enforces a lightweight branch protection ruleset on <code>main</code> to prevent accidental breakage and keep the UX tight. Below is what each rule does and why it exists in TiltCheck.</p>

<h2>Ruleset Overview</h2>

<ul>
<li>required_status_checks</li>
<p>- contexts: <code>components-a11y</code>, <code>landing-a11y</code></p>
<p>- Why: These two checks catch the most likely user-facing regressions.</p>
<p>- <code>components-a11y</code>: Builds and audits our shared web components (bundle, contrast, Pa11y + Lighthouse). Prevents regressions in the building blocks used across views.</p>
<p>- <code>landing-a11y</code>: Audits <code>services/landing</code> pages with Pa11y + Lighthouse (a11y-only). Ensures the marketing site remains accessible as copy and styles change.</p>
<li>pull_request_required</li>
<p>- Why: No direct pushes to <code>main</code>. Guarantees review surface and CI runs on proposed changes.</p>
<li>deletion</li>
<p>- Why: Prevents accidental deletion of <code>main</code>.</p>
<li>required_linear_history</li>
<p>- Why: Enforces a linear history (rebase/squash). Keeps blame and bisect simple; avoids noisy merge commits.</p>
<li>required_signatures</li>
<p>- Why: Signed commits improve provenance and basic supply-chain hygiene.</p>
<li>strict_required_status_checks_policy: false</li>
<p>- Why: Avoids forced “update branch” churn on busy days. When the repo stabilizes, consider enabling this to require checks on the latest base-merged commit.</p>
</ul>

<h2>Check Contexts and Where They Come From</h2>

<p>These contexts come from GitHub Actions job names in <code>.github/workflows/ci.yml</code>:</p>

<ul>
<li><code>components-a11y</code></li>
<p>- Runs <code>pnpm audit:all</code> (component bundle, contrast checks, Pa11y + Lighthouse for components).</p>
<p>- Uploads <code>dist/components/</code> artifacts for quick inspection.</p>
<li><code>landing-a11y</code></li>
<p>- Runs <code>pnpm a11y:audit:landing</code> (Pa11y for <code>index.html</code> and <code>about.html</code>, Lighthouse a11y JSON).</p>
<p>- Uploads <code>dist/landing-lighthouse-accessibility.json</code>.</p>
</ul>

<p>If you rename a job, update the <code>context</code> values in <code>branch-protection-ruleset.json</code> to match.</p>

<h2>Updating or Importing the Ruleset</h2>

<ul>
<li>File: <code>branch-protection-ruleset.json</code></li>
<li>Apply via GitHub UI or API. If you change job names or add checks, update this file and re-apply the ruleset.</li>
</ul>

<p>That’s it—tight, visible checks on the parts users touch first, without over-complicating CI.</p>
</main><footer style="padding:40px 24px;text-align:center;font-size:.75rem;color:#666;border-top:1px solid #222">TiltCheck Docs • Non-custodial • Signals only.</footer></body></html>