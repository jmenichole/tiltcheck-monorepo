<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><title>9. System Architecture Overview - TiltCheck</title><meta name="description" content="© 2024–2025 TiltCheck Ecosystem (Created by jmenichole). All Rights Reserved."/><link rel="stylesheet" href="/styles/base.css"/><style>body{background:#0a0a0a;color:#e0e0e0;font-family:Inter,system-ui,sans-serif;margin:0;padding:0}main{max-width:900px;margin:0 auto;padding:40px 18px;line-height:1.7}a{color:#00d4aa;text-decoration:none}a:hover{text-decoration:underline}.page-hero{padding:54px 24px 32px;background:linear-gradient(135deg,#121212,#181818);border-bottom:1px solid #222}.page-hero h1{margin:0 0 10px;font-size:2.4rem;background:linear-gradient(135deg,#00d4aa,#00a8ff);-webkit-background-clip:text;color:transparent}.lede{color:#aaa;font-size:1.05rem;max-width:760px}pre{background:#181818;padding:14px 16px;border:1px solid #222;border-radius:8px;overflow:auto;font-size:.85rem}code{font-family:ui-monospace,Monaco,Consolas,monospace;color:#00a8ff}.breadcrumb{font-size:.7rem;letter-spacing:.12em;text-transform:uppercase;color:#888;margin:0 0 12px}.nav-inline{display:flex;gap:20px;align-items:center;font-size:.8rem;padding:10px 20px;background:#111;border-bottom:1px solid #222}nav a{color:#aaa}nav a[aria-current="page"]{color:#00d4aa;font-weight:600}</style></head><body><nav class="nav-inline"><a href="/" >Home</a><a href="/docs/index.html" aria-current="page">Docs</a><a href="/dashboard">Dashboard</a><a href="/about.html">About</a></nav><header class="page-hero"><div class="breadcrumb">Docs / 9. System Architecture Overview</div><h1>9. System Architecture Overview</h1><p class="lede">© 2024–2025 TiltCheck Ecosystem (Created by jmenichole). All Rights Reserved.</p></header><main id="content"><p>© 2024–2025 TiltCheck Ecosystem (Created by jmenichole). All Rights Reserved.</p>

<h1>9. System Architecture Overview</h1>
<p>TiltCheck is intentionally modular, low-cost, and founder-friendly.</p>
<p>The architecture emphasizes:</p>

<ul>
<li>non-custodial financial flows</li>
<li>serverless compute where possible</li>
<li>predictable free-tier usage</li>
<li>simple integrations</li>
<li>clean Discord-first UI</li>
<li>lightweight data storage</li>
<li>easy scaling</li>
<li>clear trust engine interactions</li>
</ul>

<p>This document provides a complete overview of the system’s high-level architecture, module interactions, event flow, storage layers, and safety boundaries.</p>

<p>---</p>

<h2>CI/CD and Required Checks</h2>

<p>We protect <code>main</code> with two lightweight, user-facing checks to prevent regressions:</p>

<ul>
<li><code>components-a11y</code> — builds and audits shared web components (bundle, contrast, Pa11y + Lighthouse)</li>
<li><code>landing-a11y</code> — audits the marketing pages (Pa11y + Lighthouse a11y JSON)</li>
</ul>

<p>See <code>docs/tiltcheck/17-branch-protection.md</code> for the full ruleset rationale and how these map to GitHub Actions job names.</p>

<p>---</p>

<h1>9.1 High-Level Architecture Diagram</h1>

<p>┌────────────────────────────────────────────────────────────┐</p>
<p>│ Discord UI │</p>
<p>│ (Slash Commands, Buttons, Mod Tools, Ephemeral Messages) │</p>
<p>└───────────┬───────────────────────────┬────────────────────┘</p>
<p>▼ ▼</p>
<p>┌──────────────┐ ┌──────────────┐</p>
<p>│ Command Hub │ │ Event Router │</p>
<p>│ (Cloudflare) │ │ (Cloudflare) │</p>
<p>└───────┬──────┘ └──────┬───────┘</p>
<p>┌───────┼──────────────────────────┼───────────────────┐</p>
<p>▼ ▼ ▼ ▼</p>
<p>JustTheTip SusLink CollectClock FreeSpinScan</p>
<p>│ │ │ │</p>
<p>▼ ▼ ▼ ▼</p>
<p>Non-Custody Risk Analysis Bonus Engine Promo Validation</p>
<p>Wallet API Engine + Prediction + Prediction</p>
<p>│ │ │ │</p>
<p>└────────┴──────────────┬────────┴──────────────┬──────┘</p>
<p>▼ ▼</p>
<p>┌────────────────────────────────────────┐</p>
<p>│ Trust Engines │</p>
<p>│ Casino Trust + Degen Trust │</p>
<p>└───────────┬─────────────────────────────┘</p>
<p>▼</p>
<p>┌─────────────────────────────┐</p>
<p>│ Data Models + Storage │</p>
<p>│ SQLite / Supabase / KV Store │</p>
<p>└─────────────────────────────┘</p>

<p>---</p>

<h1>9.2 Layer Breakdown (Top → Bottom)</h1>

<h2>Layer 1: <strong>User Interface Layer</strong></h2>
<p>TiltCheck uses Discord as the primary UI:</p>

<ul>
<li>slash commands</li>
<li>mod tools</li>
<li>ephemeral confirmations</li>
<li>buttons</li>
<li>multi-step flows</li>
<li>DM or channel-based interactions</li>
</ul>

<p>Benefits:</p>
<ul>
<li>no frontend to maintain</li>
<li>free</li>
<li>no hosting cost</li>
<li>instant user familiarity</li>
<li>frictionless deployment</li>
</ul>

<p>---</p>

<h2>Layer 2: <strong>Command Hub</strong> (Cloudflare Worker Recommended)</h2>

<p>The Command Hub handles:</p>

<ul>
<li>parsing slash commands</li>
<li>routing actions to modules</li>
<li>catching invalid inputs</li>
<li>rate limiting</li>
<li>permissions</li>
<li>module delegation</li>
</ul>

<p>It also handles outbound Discord interactions:</p>

<ul>
<li>ephemeral replies</li>
<li>follow-up messages</li>
<li>mod-only alerts</li>
</ul>

<p>---</p>

<h2>Layer 3: <strong>Event Router</strong></h2>
<p>A lightweight event dispatcher sending tasks to:</p>

<ul>
<li>JustTheTip</li>
<li>SusLink</li>
<li>CollectClock</li>
<li>FreeSpinScan</li>
<li>Tilt Engine</li>
<li>Trust Engines</li>
<li>funding intelligence agent (internal)</li>
</ul>

<p>Event router handles asynchronous operations like:</p>

<ul>
<li>scanning links</li>
<li>fetching casino pages</li>
<li>running predictions</li>
<li>checking wallet balances</li>
<li>performing swaps</li>
<li>verifying URLs</li>
<li>updating trust scores</li>
</ul>

<p>Cloudflare Workers + queues are ideal for this.</p>

<p>---</p>

<h2>Layer 4: <strong>Modules (Independent Micro-Tools)</strong></h2>

<p>Each module exposes:</p>

<ul>
<li>its own API endpoints</li>
<li>its own Discord commands</li>
<li>optional event listeners</li>
<li>optional trust engine integration</li>
</ul>

<p>Modules never call each other directly — only via events.</p>
<p>This prevents entanglement and keeps the system modular.</p>

<p>---</p>

<h2>Layer 5: <strong>Trust Engines</strong></h2>

<p>Shared global insight layer:</p>

<p>1. <strong>Casino Trust Engine</strong></p>
<p>2. <strong>Degen Trust Engine</strong></p>

<p>Modules feed these engines with signals; engines return:</p>

<ul>
<li>risk warnings</li>
<li>score summaries</li>
<li>trend patterns</li>
<li>cooldown recommendations</li>
<li>mod tools</li>
</ul>

<p>Trust engines unify the entire ecosystem.</p>

<p>---</p>

<h2>Layer 6: <strong>Storage Layer</strong></h2>

<p>TiltCheck supports hybrid free-tier storage:</p>

<h3><strong>Primary Options:</strong></h3>
<ul>
<li>Supabase Postgres (free tier)</li>
<li>SQLite (local, Worker-compatible with D1 or LibSQL)</li>
<li>Cloudflare KV / Durable Objects</li>
<li>JSON-based snapshots (for prototypes)</li>
</ul>

<h3><strong>Storage Decisions:</strong></h3>

<p>| Data Type | Storage |</p>
<p>|-----------|---------|</p>
<p>| URLs, scans | KV / SQLite |</p>
<p>| Casino bonus logs | Postgres or SQLite |</p>
<p>| User trust signals | Postgres |</p>
<p>| NFT identity links | SQLite |</p>
<p>| Promo submissions | Postgres |</p>
<p>| Swap attempts | KV |</p>
<p>| Agent funding intelligence | JSON or KV |</p>

<p>---</p>

<h1>9.3 Financial Architecture (Non-Custodial)</h1>

<p><strong>TiltCheck NEVER holds funds.</strong></p>

<p>Flow:</p>

<p>User Wallet → (fee deduction) → Target Wallet or Jupiter Swap</p>

<p>No custody means:</p>
<ul>
<li>no legal exposure</li>
<li>no withdrawal queues</li>
<li>no banking requirements</li>
<li>no custody risk</li>
<li>no regulatory headaches</li>
</ul>

<p>Fees (flat only) always go:</p>

<p><code>fee amount → founder wallet</code></p>

<p>before anything else happens.</p>

<p>---</p>

<h1>9.4 Discord Architecture</h1>

<h3>Key Channels:</h3>
<ul>
<li>#free-spins</li>
<li>#bonus-drops</li>
<li>#collectclock</li>
<li>#casino-reviews</li>
<li>#mod-approvals</li>
<li>#bot-logs</li>
<li>#trust-signals</li>
</ul>

<h3>Key Permission Roles:</h3>
<ul>
<li>Admin</li>
<li>Moderator</li>
<li>Trusted</li>
<li>Regular User</li>
<li>New User</li>
<li>High-Risk User (optional)</li>
</ul>

<p>---</p>

<h1>9.5 Module Interaction Examples</h1>

<h2>Example A: <strong>User submits free spins link</strong></h2>

<p>/submit <url> <bonus-type></p>
<p>↓</p>
<p>SusLink scans</p>
<p>↓</p>
<p>FreeSpinScan classifies + queues for mod review</p>
<p>↓</p>
<p>Casino Trust Engine logs casino promo reliability</p>
<p>↓</p>
<p>Mod approves</p>
<p>↓</p>
<p>Bot posts to correct channel</p>

<p>---</p>

<h2>Example B: <strong>User tips someone via JustTheTip</strong></h2>

<p>/tip @user 1 SOL</p>
<p>↓</p>
<p>Calculate flat fee</p>
<p>↓</p>
<p>User approves transaction</p>
<p>↓</p>
<p>Blockchain processes</p>
<p>↓</p>
<p>Bot posts confirmation</p>
<p>↓</p>
<p>Degen Trust Engine logs behavioral context</p>

<p>---</p>

<h2>Example C: <strong>User rage spins → TiltCheck detects tilt</strong></h2>

<p>Aggressive chat + rapid timestamps</p>
<p>↓</p>
<p>Tilt Engine flags tilt likelihood</p>
<p>↓</p>
<p>User receives soft nudge</p>
<p>↓</p>
<p>If continued → cooldown suggestion</p>
<p>↓</p>
<p>If chosen → vault lock triggered</p>

<p>---</p>

<h1>9.6 Security Architecture</h1>

<p>TiltCheck ensures:</p>

<ul>
<li>no custody of user funds</li>
<li>no storing private keys</li>
<li>no storing sensitive data</li>
<li>minimal PII</li>
<li>NFT identity is optional</li>
<li>only hashed identifiers stored</li>
<li>all trust scores are explainable</li>
</ul>

<p>---</p>

<h1>9.7 Scaling Model</h1>

<p>TiltCheck is scalable because:</p>

<ul>
<li>workers are stateless</li>
<li>most operations are event-driven</li>
<li>storage is minimal</li>
<li>modules are independent</li>
<li>Discord handles the load</li>
<li>AI is used sparingly and cheaply</li>
</ul>

<p>The system expands only when needed — not preemptively.</p>

<p>---</p>

<h1>9.8 Future Web UI (Optional)</h1>

<p>Eventually, TiltCheck Arena can host:</p>

<ul>
<li>DA&D games</li>
<li>Casino dashboards</li>
<li>Trust transparency displays</li>
<li>User profiles</li>
<li>NFT minting</li>
<li>Bonus prediction graphs</li>
</ul>

<p>But Discord remains the primary interface until scaling demands a UI.</p>

<p>---</p>

<h1>End of <code>9-architecture.md</code></h1></main><footer style="padding:40px 24px;text-align:center;font-size:.75rem;color:#666;border-top:1px solid #222">TiltCheck Docs • Non-custodial • Signals only.</footer></body></html>