# TiltCheck Monorepo - Environment Variables Template
# Copy this file to .env and fill in your actual values

# =============================================================================
# REQUIRED - Core Discord Integration
# =============================================================================
DISCORD_TOKEN=your_discord_bot_token_here
DISCORD_CLIENT_ID=your_discord_client_id_here
DISCORD_CLIENT_SECRET=your_discord_client_secret_here

# =============================================================================
# REQUIRED - Solana Blockchain Configuration
# =============================================================================
# Use mainnet for production, devnet for testing
SOLANA_RPC_URL=https://api.devnet.solana.com
# SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# Fee collection wallet (receives 0.0007 SOL per tip)
JUSTTHETIP_FEE_WALLET=your_fee_wallet_address_here

# Gas wallet for transaction fees
GAS_WALLET_PUBLIC=your_gas_wallet_public_key_here

# =============================================================================
# REQUIRED - Database Configuration (Supabase)
# =============================================================================
SUPABASE_URL=your_supabase_project_url_here
SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Note: Configure these settings in Supabase Dashboard > Authentication > URL Configuration:
# - Site URL: https://tiltcheck.me (your production domain)
# - Redirect URLs: Add all OAuth callback URLs (see OAUTH_URIS.md for full list)

# =============================================================================
# REQUIRED - Security & Authentication
# =============================================================================
# Strong random string for JWT signing
JWT_SECRET=your_jwt_secret_minimum_32_characters_here

# Strong random string for session encryption
SESSION_SECRET=your_session_secret_minimum_32_characters_here

# Admin password for protected endpoints
ADMIN_PASSWORD=your_secure_admin_password_here

# =============================================================================
# OPTIONAL - Discord OAuth (for web authentication)
# =============================================================================
DISCORD_CALLBACK_URL=http://localhost:3001/auth/discord/callback
DISCORD_REDIRECT_URI=http://localhost:3001/auth/discord/callback

# Optional: Discord webhook for notifications
DISCORD_WEBHOOK_URL=

# =============================================================================
# OPTIONAL - External APIs
# =============================================================================
# OpenAI API key for AI features
OPENAI_API_KEY=

# CoinGecko API key for pricing oracle (optional, has free tier)
COINGECKO_API_KEY=

# =============================================================================
# OPTIONAL - Database Alternatives
# =============================================================================
# PostgreSQL connection string (alternative to Supabase)
# DATABASE_URL=postgresql://user:password@localhost:5432/tiltcheck

# Redis connection string (for caching/sessions)
# REDIS_URL=redis://localhost:6379

# =============================================================================
# PUBLIC URL CONFIGURATION
# =============================================================================
# Base URL for sitemap generation and canonical links (default: https://tiltcheck.me)
PUBLIC_BASE_URL=https://tiltcheck.me

# =============================================================================
# SERVICE PORTS (Optional - defaults shown)
# =============================================================================
PORT=3000
LANDING_PORT=3000
CONTROL_ROOM_PORT=3001
QUALIFYFIRST_PORT=8080
CASINO_API_PORT=6002

# Health check ports
DISCORD_BOT_HEALTH_PORT=8081
DAD_BOT_HEALTH_PORT=8082
EVENT_ROUTER_HEALTH_PORT=8083

# =============================================================================
# INTERNAL API CONFIGURATION
# =============================================================================
# Casino data API authentication
CASINO_API_KEY=tiltcheck-casino-collector-2024

# TiltCheck internal API (if using microservices)
TILTCHECK_API_KEY=
TILTCHECK_API_URL=

# Admin token for gauge configuration
GAUGE_ADMIN_TOKEN=

# =============================================================================
# DATA RETENTION & STORAGE
# =============================================================================
# How many days to keep event data
DASHBOARD_EVENTS_KEEP_DAYS=7

# Evidence package retention
EVIDENCE_RETENTION_DAYS=30
EVIDENCE_MAX_COUNT=1000

# Dashboard polling interval (milliseconds)
DASHBOARD_POLL_MS=30000

# Storage paths for persistent data
LOCKVAULT_STORE_PATH=./data/lockvault-store.json
PENDING_TIPS_STORE_PATH=./data/pending-tips-store.json
COLLECTCLOCK_LOG_DIR=./logs/collectclock
LANDING_LOG_PATH=./logs/landing.log

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Environment: development, production, test
NODE_ENV=development

# Skip Discord OAuth (for local development/testing)
SKIP_DISCORD_LOGIN=false

# Enable/disable casino verification scheduler
ENABLE_CASINO_VERIFICATION=true

# Required trust level for certain features (0-100)
REQUIRED_TRUST_LEVEL=0

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Newsletter email hashing salt
NEWSLETTER_SALT=your_random_salt_here

# CORS allowed origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Admin IP whitelist (prefix matching)
# ADMIN_IP_=192.168.1.

# =============================================================================
# LOGGING CONFIGURATION (Optional)
# =============================================================================
# CollectClock logging
COLLECTCLOCK_LOG_ERRORS=true

# =============================================================================
# TESTING & CI/CD (Optional)
# =============================================================================
# Set to 'true' in CI environment
CI=false

# =============================================================================
# NOTES
# =============================================================================
# 
# SECURITY REMINDERS:
# - Never commit this file with real values to version control
# - Use different values for development, staging, and production
# - Rotate secrets regularly
# - Use encrypted secrets storage for CI/CD
# 
# REQUIRED VS OPTIONAL:
# - REQUIRED variables must be set for the service to function
# - OPTIONAL variables enable additional features or override defaults
# 
# GETTING STARTED:
# 1. Copy this file: cp .env.template .env
# 2. Fill in at minimum all REQUIRED variables
# 3. Customize OPTIONAL variables as needed
# 4. Test each service individually
# 
# MORE INFORMATION:
# See AUDIT-REPORT.md for detailed environment variable documentation
# See individual service README files for service-specific requirements
